#include <stdio.h>
#include "lisaxml.h"

int main(int argc,char **argv) {
    writeXML *myxml;
    char buffer[256];
    
    myxml = XMLopen("prova.xml");

    /* Standard beginning of the file */

    XMLcontentstring(myxml,"<?xml version=\"1.0\"?>");
    XMLcontentstring(myxml,"<!DOCTYPE XSIL SYSTEM \"bfd.dtd\">");

    XMLcontentstring(myxml,"<?xml-stylesheet type=\"text/xsl\" href=\"http://www.vallis.org/lisa-xml.xsl\"?>");

    XMLopentag(myxml,"XSIL","");

        /* Prolog */

        XMLopentag(myxml,"Param","Name=\"Author\"");
            XMLcontentstring(myxml,"Michele Vallisneri");
        XMLclosetag(myxml,"Param");
    
        XMLopentag(myxml,"Param","Name=\"GenerationDate\" Type=\"ISO-8601\"");
            getISOtime(buffer);
            XMLcontentstring(myxml,buffer);
        XMLclosetag(myxml,"Param");

        XMLopentag(myxml,"Comment","");
            XMLcontentstring(myxml,"This file generated by lisaxml.c (MV 2006/05/30)");
        XMLclosetag(myxml,"Comment");

        /* SourceData section */

        XMLopentag(myxml,"XSIL","Type=\"SourceData\"");

            /* For each source... replace SourceName-1 */

            XMLopentag(myxml,"XSIL","Name=\"%s\" Type=\"PlaneWave\"","SourceName-1");

                /* Give parameters as needed */

                XMLparamdouble(myxml,"EclipticLatitude","Radian",0.0);
                XMLparamdouble(myxml,"EclipticLongitude","Radian",0.0);
                XMLparamdouble(myxml,"Polarization","Radian",0.0);

                XMLparamstring(myxml,"SourceType","String","GalacticBinary");

                XMLparamdouble(myxml,"Amplitude","1",1.0e-24);

                XMLparamdouble(myxml,"Inclination","Radian",0.0);

                XMLparamdouble(myxml,"TimeOffset","Second",0.0);
                XMLparamdouble(myxml,"InitialPhase","Radian",0.0);            
                XMLparamdouble(myxml,"Frequency","Hertz",1.0e-3);

            XMLclosetag(myxml,"XSIL");
            
        XMLclosetag(myxml,"XSIL");

    XMLclosetag(myxml,"XSIL");

    XMLclose(myxml);
}
